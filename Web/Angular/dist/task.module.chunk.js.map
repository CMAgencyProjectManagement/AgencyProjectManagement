{"version":3,"sources":["D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/add/add.component.html","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/add/add.component.scss","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/add/add.component.ts","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/edit/edit.component.html","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/edit/edit.component.scss","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/edit/edit.component.ts","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/my-tasks/my-tasks.component.html","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/my-tasks/my-tasks.component.scss","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/my-tasks/my-tasks.component.ts","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/task-routing.module.ts","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/task.module.ts","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/view/view.component.html","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/view/view.component.scss","D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/view/view.component.ts"],"names":[],"mappings":"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","file":"task.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-12\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">\\r\\n        <strong>Create task</strong>\\r\\n      </div>\\r\\n      <app-spinner *ngIf=\\\"isLoading.page\\\"></app-spinner>\\r\\n      <div *ngIf=\\\"!isLoading.page\\\" class=\\\"card-body row\\\">\\r\\n        <div [formGroup]=\\\"createForm\\\" class=\\\"form-horizontal col-lg-8 col-md-10 col-sm-12\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--NAME-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"name-input\\\">\\r\\n              Name <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <input type=\\\"text\\\" id=\\\"name-input\\\"\\r\\n                     [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.name}\\\"\\r\\n                     formControlName=\\\"name\\\">\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.name\\\">{{errors.name}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--Description-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"description-input\\\">\\r\\n              Description\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <textarea id=\\\"description-input\\\"\\r\\n                        rows=\\\"9\\\"\\r\\n                        [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.description}\\\"\\r\\n                        placeholder=\\\"Description..\\\"\\r\\n                        formControlName=\\\"description\\\"></textarea>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.description\\\">{{errors.description}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--LIST-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"list-input\\\">\\r\\n              List\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <select formControlName=\\\"list\\\" id=\\\"list-input\\\"\\r\\n                      [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.list}\\\">\\r\\n                <option *ngFor=\\\"let list of foundProject.lists\\\" value=\\\"{{list.id}}\\\">{{list.name}}</option>\\r\\n              </select>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.list\\\">{{errors.list}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--priority-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"priority-input\\\">\\r\\n              Priority <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <select formControlName=\\\"priority\\\" id=\\\"priority-input\\\"\\r\\n                      [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.list}\\\">\\r\\n                <option *ngFor=\\\"let priority of priorities\\\" value=\\\"{{priority.key}}\\\">{{priority.value}}</option>\\r\\n              </select>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.priority\\\">{{errors.priority}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--Start date-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"startDate-input\\\">\\r\\n              Start date <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-8 datepicker-group\\\">\\r\\n              <my-date-picker id=\\\"startDate-input\\\" #datepicker\\r\\n                              [options]=\\\"myDatePickerOptions\\\"\\r\\n                              [ngClass]=\\\"{'form-control': false, 'is-invalid': errors.startDate}\\\"\\r\\n                              formControlName=\\\"startDate\\\" required>\\r\\n              </my-date-picker>\\r\\n              <div class=\\\"invalid-feedback\\\" [ngStyle]=\\\"{'display':'block'}\\\" *ngIf=\\\"errors.startDate\\\">\\r\\n                {{errors.startDate}}\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--DURATION-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"duration-input\\\">\\r\\n              Duration <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input type=\\\"text\\\" id=\\\"duration-input\\\"\\r\\n                       [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.duration}\\\"\\r\\n                       formControlName=\\\"duration\\\">\\r\\n                <span class=\\\"input-group-addon\\\">day</span>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.duration\\\">{{errors.duration}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--EFFORT-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"effort-input\\\">\\r\\n              Effort <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input type=\\\"text\\\" id=\\\"effort-input\\\"\\r\\n                       [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.effort}\\\"\\r\\n                       formControlName=\\\"effort\\\">\\r\\n                <span class=\\\"input-group-addon\\\">hour</span>\\r\\n              </div>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.effort\\\">{{errors.effort}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-actions text-center\\\">\\r\\n            <!--BUTTON-->\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <button class=\\\"btn btn-primary\\\" (click)=\\\"handleCreateTask()\\\" [ladda]=\\\"isLoading.create\\\">\\r\\n                Create\\r\\n              </button>\\r\\n              <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" (click)=\\\"handleOnCancelBtnClick()\\\">Reset</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/add/add.component.html\n// module id = ../../../../../src/app/views/task/add/add.component.html\n// module chunks = task.module","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".invalid-feedback {\\n  display: block; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/add/add.component.scss\n// module id = ../../../../../src/app/views/task/add/add.component.scss\n// module chunks = task.module","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {ProjectService} from '../../../services/project.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport {\r\n  FormControl,\r\n  FormGroup,\r\n} from '@angular/forms';\r\nimport {IMyDpOptions} from 'mydatepicker';\r\nimport {BsModalService} from 'ngx-bootstrap/modal';\r\nimport {\r\n  ErrorModalComponent,\r\n  SuccessModalComponent\r\n} from '../../../cmaComponents/modals';\r\nimport {TaskService} from '../../../services/task.service';\r\nimport {Location} from '@angular/common';\r\nimport {Project} from '../../../interfaces/project';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n  isLoading: {\r\n    page: boolean,\r\n    create: boolean\r\n  };\r\n  errors: {\r\n    name: string,\r\n    description: string,\r\n    list: string,\r\n    priority: string,\r\n    startDate: string,\r\n    duration: string,\r\n    effort: string\r\n  };\r\n  @ViewChild('datepicker') datepicker;\r\n  foundProject: Project;\r\n  listId: number;\r\n  createForm: FormGroup;\r\n  priorities: any[];\r\n  public myDatePickerOptions: IMyDpOptions = {\r\n    // other options...\r\n    dateFormat: 'dd/mm/yyyy',\r\n    showInputField: true,\r\n    showTodayBtn: true\r\n  };\r\n\r\n  constructor(private taskService: TaskService,\r\n              private projectService: ProjectService,\r\n              private modalService: BsModalService,\r\n              private router: Router,\r\n              private route: ActivatedRoute,\r\n              private location: Location) {\r\n    this.isLoading = {\r\n      page: true,\r\n      create: false\r\n    };\r\n    this.resetError();\r\n  }\r\n\r\n  ngOnInit() {\r\n    let projectId = this.route.snapshot.queryParamMap.get('projectID');\r\n    let listId = this.route.snapshot.queryParamMap.get('listID');\r\n\r\n    if (Number(projectId) && Number(listId)) {\r\n      this.listId = Number(listId);\r\n      this.projectService.getProject(Number(projectId))\r\n        .then(project => {\r\n          this.foundProject = project;\r\n          this.updatePageLoadingState();\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal(reason.Message);\r\n        });\r\n      this.taskService.getPriorities()\r\n        .then(value => {\r\n          this.priorities = value;\r\n          this.updatePageLoadingState();\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal(reason.Message);\r\n        })\r\n    } else {\r\n      this.showErrorModal(`Invalid address`, true);\r\n    }\r\n    this.createForm = new FormGroup({\r\n      name: new FormControl(undefined),\r\n      description: new FormControl(undefined),\r\n      list: new FormControl(undefined),\r\n      priority: new FormControl(undefined),\r\n      startDate: new FormControl(undefined),\r\n      duration: new FormControl(undefined),\r\n      effort: new FormControl(undefined)\r\n    })\r\n  }\r\n\r\n  updatePageLoadingState() {\r\n    if (this.foundProject &&\r\n      this.priorities) {\r\n      this.setDefaultValue();\r\n      this.isLoading.page = false;\r\n    }\r\n  }\r\n\r\n  handleOnCancelBtnClick() {\r\n    this.setDefaultValue();\r\n    this.location.back();\r\n  }\r\n\r\n  resetError() {\r\n    this.errors = {\r\n      name: '',\r\n      description: '',\r\n      list: '',\r\n      priority: '',\r\n      startDate: '',\r\n      duration: '',\r\n      effort: ''\r\n    };\r\n  }\r\n\r\n  setErrors(errors: any[]) {\r\n    for (let error of errors) {\r\n      const fieldName = error.key;\r\n      const errorMessage = error.message;\r\n      switch (fieldName) {\r\n        case 'Name':\r\n          this.errors.name = errorMessage;\r\n          break;\r\n        case 'Description':\r\n          this.errors.description = errorMessage;\r\n          break;\r\n        case 'ListID':\r\n          this.errors.effort = errorMessage;\r\n          break;\r\n        case 'Priority':\r\n          this.errors.priority = errorMessage;\r\n          break;\r\n        case 'StartDate':\r\n          this.errors.startDate = errorMessage;\r\n          break;\r\n        case 'Duration':\r\n          this.errors.duration = errorMessage;\r\n          break;\r\n        case 'Effort':\r\n          this.errors.effort = errorMessage;\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  setDefaultValue() {\r\n    let now = moment();\r\n    this.createForm.patchValue({\r\n      name: '',\r\n      description: '',\r\n      list: this.listId,\r\n      priority: '',\r\n      startDate: {\r\n        date: {\r\n          year: now.year(),\r\n          month: now.month() + 1,\r\n          day: now.date()\r\n        }\r\n      },\r\n      duration: '',\r\n      effort: '',\r\n    });\r\n  }\r\n\r\n  handleCreateTask() {\r\n    this.isLoading.create = true;\r\n    this.resetError();\r\n    const values = this.createForm.value;\r\n    let startDate = moment(this.datepicker.selectionDayTxt, 'DD/MM/YYYY');\r\n    this.taskService.createTask(\r\n      values.name,\r\n      values.description,\r\n      values.list,\r\n      values.priority,\r\n      startDate.isValid() ? startDate.format('YYYY-MM-DD') : this.datepicker.selectionDayTxt,\r\n      values.duration,\r\n      values.effort\r\n    ).then(value => {\r\n      const initialState = {\r\n        message: 'Your task successfully created'\r\n      };\r\n      this.modalService.show(SuccessModalComponent, {initialState, class: 'modal-dialog'});\r\n      this.isLoading.create = false;\r\n    }).catch(reason => {\r\n      this.setErrors(reason.Data);\r\n      this.isLoading.create = false;\r\n    })\r\n  }\r\n\r\n  showErrorModal(message: string, isNavigateBack: boolean = false) {\r\n    const initialState = {\r\n      closeCallback: () => {\r\n        if (isNavigateBack) {\r\n          this.location.back();\r\n        }\r\n      },\r\n      message: message\r\n    };\r\n    this.modalService.show(ErrorModalComponent, {initialState, class: 'modal-dialog modal-danger'});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/add/add.component.ts","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-12\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">\\r\\n        <strong>Update task</strong>\\r\\n      </div>\\r\\n      <app-spinner *ngIf=\\\"isLoading.page\\\"></app-spinner>\\r\\n      <div *ngIf=\\\"!isLoading.page\\\" class=\\\"card-body row\\\">\\r\\n        <div [formGroup]=\\\"updateForm\\\" class=\\\"form-horizontal col-lg-8 col-md-10 col-sm-12\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--NAME-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"name-input\\\">\\r\\n              Name <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <input type=\\\"text\\\" id=\\\"name-input\\\"\\r\\n                     [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.name}\\\"\\r\\n                     formControlName=\\\"name\\\">\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.name\\\">{{errors.name}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--Description-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"description-input\\\">\\r\\n              Description\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <textarea id=\\\"description-input\\\"\\r\\n                        rows=\\\"9\\\"\\r\\n                        [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.description}\\\"\\r\\n                        placeholder=\\\"Description..\\\"\\r\\n                        formControlName=\\\"description\\\"></textarea>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.description\\\">{{errors.description}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--LIST-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"list-input\\\">\\r\\n              List\\r\\n            </label>\\r\\n            <div class=\\\"col-8\\\">\\r\\n              <select formControlName=\\\"list\\\" id=\\\"list-input\\\"\\r\\n                      [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.list}\\\">\\r\\n                <option *ngFor=\\\"let list of lists\\\" value=\\\"{{list.id}}\\\">{{list.name}}</option>\\r\\n              </select>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.list\\\">{{errors.list}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--priority-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"priority-input\\\">\\r\\n              Priority\\r\\n            </label>\\r\\n            <div class=\\\"col-4\\\">\\r\\n              <select formControlName=\\\"priority\\\" id=\\\"priority-input\\\"\\r\\n                      [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.list}\\\">\\r\\n                <option *ngFor=\\\"let priority of priorities\\\" value=\\\"{{priority.key}}\\\">{{priority.value}}</option>\\r\\n              </select>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.priority\\\">{{errors.priority}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--Start date-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"startDate-input\\\">\\r\\n              Start date <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-4 datepicker-group\\\">\\r\\n              <my-date-picker id=\\\"startDate-input\\\" #datepicker\\r\\n                              [options]=\\\"myDatePickerOptions\\\"\\r\\n                              formControlName=\\\"startDate\\\"\\r\\n                              [ngClass]=\\\"{'form-control': false, 'is-invalid': errors.startDate}\\\"\\r\\n                              required></my-date-picker>\\r\\n              <div class=\\\"invalid-feedback\\\" [ngStyle]=\\\"{'display':'block'}\\\" *ngIf=\\\"errors.startDate\\\">\\r\\n                {{errors.startDate}}\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--DURATION-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"duration-input\\\">\\r\\n              Duration <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-4\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input type=\\\"text\\\" id=\\\"duration-input\\\"\\r\\n                       [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.duration}\\\"\\r\\n                       formControlName=\\\"duration\\\">\\r\\n                <span class=\\\"input-group-addon\\\">day(s)</span>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.duration\\\">{{errors.duration}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <!--EFFORT-->\\r\\n            <label class=\\\"col-4 col-form-label text-right\\\" for=\\\"effort-input\\\">\\r\\n              Effort <span style=\\\"color: red\\\"><strong>*</strong></span>\\r\\n            </label>\\r\\n            <div class=\\\"col-4\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input type=\\\"text\\\" id=\\\"effort-input\\\"\\r\\n                       [ngClass]=\\\"{'form-control': true, 'is-invalid': errors.effort}\\\"\\r\\n                       formControlName=\\\"effort\\\">\\r\\n                <span class=\\\"input-group-addon\\\">hour(s)</span>\\r\\n              </div>\\r\\n              <div class=\\\"invalid-feedback\\\" *ngIf=\\\"errors.effort\\\">{{errors.effort}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-actions text-center\\\">\\r\\n            <!--BUTTON-->\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <button class=\\\"btn btn-primary\\\" (click)=\\\"handleUpdateTask()\\\" [ladda]=\\\"isLoading.update\\\">\\r\\n                Save changes\\r\\n              </button>\\r\\n              <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" (click)=\\\"onCancelBtnClick()\\\">Cancel</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/edit/edit.component.html\n// module id = ../../../../../src/app/views/task/edit/edit.component.html\n// module chunks = task.module","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".invalid-feedback {\\n  display: block; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/edit/edit.component.scss\n// module id = ../../../../../src/app/views/task/edit/edit.component.scss\n// module chunks = task.module","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Location} from '@angular/common';\r\nimport {TaskService} from '../../../services/task.service';\r\nimport {ErrorModalComponent, SuccessModalComponent} from '../../../cmaComponents/modals';\r\nimport {BsModalService} from 'ngx-bootstrap/modal';\r\nimport {Task} from '../../../interfaces/task';\r\nimport {FormControl, FormGroup} from '@angular/forms';\r\nimport {ProjectService} from '../../../services/project.service';\r\nimport {List} from '../../../interfaces/list';\r\nimport {IMyDpOptions} from 'mydatepicker';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-edit',\r\n  templateUrl: './edit.component.html',\r\n  styleUrls: ['./edit.component.scss']\r\n})\r\nexport class EditComponent implements OnInit {\r\n  isLoading: {\r\n    page: boolean,\r\n    update: boolean\r\n  };\r\n  errors: {\r\n    name: string,\r\n    description: string,\r\n    list: string,\r\n    priority: string,\r\n    startDate: string,\r\n    duration: string,\r\n    effort: string\r\n  };\r\n  @ViewChild('datepicker') datepicker;\r\n  taskId: number;\r\n  foundTask: Task;\r\n  updateForm: FormGroup;\r\n  lists: List[];\r\n  priorities: any[];\r\n  public myDatePickerOptions: IMyDpOptions = {\r\n    // other options...\r\n    dateFormat: 'dd/mm/yyyy',\r\n    showInputField: true,\r\n    showTodayBtn: true\r\n  };\r\n\r\n  constructor(private taskService: TaskService,\r\n              private projectService: ProjectService,\r\n              private modalService: BsModalService,\r\n              private router: Router,\r\n              private route: ActivatedRoute,\r\n              private location: Location) {\r\n    this.isLoading = {\r\n      page: true,\r\n      update: false\r\n    };\r\n    this.resetError();\r\n  }\r\n\r\n  ngOnInit() {\r\n    let id = this.route.snapshot.paramMap.get('id');\r\n    if (Number(id)) {\r\n      this.taskId = Number(id);\r\n      this.taskService.getTaskDetail(this.taskId)\r\n        .then(value => {\r\n          this.foundTask = value;\r\n          this.updatePageLoadingState();\r\n          this.projectService.getListOfProject(this.foundTask.project.id)\r\n            .then(value1 => {\r\n              this.lists = value1;\r\n              this.setDefaultValue();\r\n              this.updatePageLoadingState();\r\n            })\r\n            .catch(reason => {\r\n              this.showErrorModal(reason.Message);\r\n            })\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal(reason.Message, true);\r\n        });\r\n      this.taskService.getPriorities()\r\n        .then(value => {\r\n          this.priorities = value;\r\n          this.updatePageLoadingState();\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal(reason.Message);\r\n        });\r\n    } else {\r\n      this.showErrorModal(`Invalid task id \"${id}\"`, true);\r\n    }\r\n    this.updateForm = new FormGroup({\r\n      name: new FormControl(undefined),\r\n      description: new FormControl(undefined),\r\n      list: new FormControl(undefined),\r\n      priority: new FormControl(undefined),\r\n      startDate: new FormControl(undefined),\r\n      duration: new FormControl(undefined),\r\n      effort: new FormControl(undefined)\r\n    })\r\n  }\r\n\r\n  updatePageLoadingState() {\r\n    if (\r\n      this.lists &&\r\n      this.foundTask &&\r\n      this.priorities\r\n    ) {\r\n      this.isLoading.page = false;\r\n    }\r\n  }\r\n\r\n  resetError() {\r\n    this.errors = {\r\n      name: '',\r\n      description: '',\r\n      list: '',\r\n      priority: '',\r\n      startDate: '',\r\n      duration: '',\r\n      effort: ''\r\n    };\r\n  }\r\n\r\n  setErrors(errors: any[]) {\r\n    for (let error of errors) {\r\n      const fieldName = error.key;\r\n      const errorMessage = error.message;\r\n      switch (fieldName) {\r\n        case 'Name':\r\n          this.errors.name = errorMessage;\r\n          break;\r\n        case 'Description':\r\n          this.errors.description = errorMessage;\r\n          break;\r\n        case 'ListID':\r\n          this.errors.effort = errorMessage;\r\n          break;\r\n        case 'Priority':\r\n          this.errors.priority = errorMessage;\r\n          break;\r\n        case 'StartDate':\r\n          this.errors.startDate = errorMessage;\r\n          break;\r\n        case 'Duration':\r\n          this.errors.duration = errorMessage;\r\n          break;\r\n        case 'Effort':\r\n          this.errors.effort = errorMessage;\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onCancelBtnClick() {\r\n    this.location.back();\r\n  }\r\n\r\n  setDefaultValue() {\r\n    let startDate = moment(this.foundTask.startDate);\r\n    this.updateForm.patchValue({\r\n      name: this.foundTask.name,\r\n      description: this.foundTask.description,\r\n      list: this.foundTask.list.id,\r\n      priority: this.foundTask.priority,\r\n      startDate: {\r\n        date: {\r\n          year: startDate.year(),\r\n          month: startDate.month() + 1,\r\n          day: startDate.date()\r\n        }\r\n      },\r\n      duration: this.foundTask.duration,\r\n      effort: this.foundTask.effort,\r\n    });\r\n  }\r\n\r\n  handleUpdateTask() {\r\n    this.isLoading.update = true;\r\n    this.resetError();\r\n    const values = this.updateForm.value;\r\n    let startDate = moment(this.datepicker.selectionDayTxt, 'DD/MM/YYYY');\r\n    this.taskService.editTask(\r\n      this.foundTask.id,\r\n      values.name,\r\n      values.description,\r\n      values.list,\r\n      values.priority,\r\n      startDate.isValid() ? startDate.format('YYYY-MM-DD') : this.datepicker.selectionDayTxt,\r\n      values.duration,\r\n      values.effort\r\n    ).then(value => {\r\n      this.foundTask = value as Task;\r\n      this.showSuccessModal('Update task successfully');\r\n      this.isLoading.update = false;\r\n    }).catch(reason => {\r\n      this.setErrors(reason.Data);\r\n      this.isLoading.update = false;\r\n    })\r\n  }\r\n\r\n  showSuccessModal(message: string, isNavigateBack: boolean = false) {\r\n    const initialState = {\r\n      closeCallback: () => {\r\n        if (isNavigateBack) {\r\n          this.location.back();\r\n        }\r\n      },\r\n      message: message\r\n    };\r\n    this.modalService.show(SuccessModalComponent, {initialState, class: 'modal-dialog modal-success'});\r\n  }\r\n\r\n  showErrorModal(message: string, isNavigateBack: boolean = false) {\r\n    const initialState = {\r\n      closeCallback: () => {\r\n        if (isNavigateBack) {\r\n          this.location.back();\r\n        }\r\n      },\r\n      message: message\r\n    };\r\n    this.modalService.show(ErrorModalComponent, {initialState, class: 'modal-dialog modal-danger'});\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/edit/edit.component.ts","module.exports = \"<!--<app-task-table [tasks]=\\\"tasks\\\"></app-task-table>-->\\r\\n<div class=\\\"col-12\\\">\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      My tasks\\r\\n    </div>\\r\\n    <app-spinner *ngIf=\\\"isLoading.page\\\"></app-spinner>\\r\\n    <div *ngIf=\\\"!isLoading.page\\\" class=\\\"card-body\\\">\\r\\n      <div class=\\\"button-section\\\">\\r\\n\\r\\n      </div>\\r\\n      <div class=\\\"input-group\\\">\\r\\n          <span class=\\\"input-group-btn\\\">\\r\\n            <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" (click)=\\\"search(searchField.value)\\\">\\r\\n              <i class=\\\"fa fa-search\\\"></i> Search\\r\\n            </button>\\r\\n          </span>\\r\\n        <input class=\\\"form-control\\\" type=\\\"text\\\" (input)=\\\"search(searchField.value)\\\" #searchField>\\r\\n      </div>\\r\\n      <div class=\\\"dataTable-container hide-search mt-3\\\">\\r\\n        <table id=\\\"allProjectsTable\\\" datatable [dtOptions]=\\\"datatableOptions\\\" class=\\\"table table-bordered\\\">\\r\\n          <thead>\\r\\n          <tr>\\r\\n            <th>Name</th>\\r\\n            <th>Status</th>\\r\\n            <th>Priority</th>\\r\\n            <th>Start date</th>\\r\\n            <th>Deadline</th>\\r\\n            <th>Project</th>\\r\\n          </tr>\\r\\n          </thead>\\r\\n          <tbody>\\r\\n          <tr *ngFor=\\\"let task of tasks\\\">\\r\\n            <td>{{task.name}}</td>\\r\\n            <td>{{task.statusText}}</td>\\r\\n            <td>{{task.priorityText}}</td>\\r\\n            <td>{{task.startDate | date:'dd/MM/yyyy'}}</td>\\r\\n            <td>{{task.deadline | date:'dd/MM/yyyy'}}</td>\\r\\n            <td>\\r\\n              <a routerLink=\\\"/project/{{task.project.id}}/task\\\">\\r\\n                {{task.project.name}}\\r\\n              </a>\\r\\n            </td>\\r\\n          </tr>\\r\\n          </tbody>\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/my-tasks/my-tasks.component.html\n// module id = ../../../../../src/app/views/task/my-tasks/my-tasks.component.html\n// module chunks = task.module","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/my-tasks/my-tasks.component.scss\n// module id = ../../../../../src/app/views/task/my-tasks/my-tasks.component.scss\n// module chunks = task.module","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {StoreService} from '../../../services/tree.service';\r\nimport {User} from '../../../interfaces/user';\r\nimport {Task} from '../../../interfaces/task';\r\nimport {TaskService} from '../../../services/task.service';\r\nimport {Location} from '@angular/common';\r\nimport {BsModalService} from 'ngx-bootstrap/modal';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {ErrorModalComponent} from '../../../cmaComponents/modals';\r\nimport {DataTableDirective} from 'angular-datatables';\r\n\r\n@Component({\r\n  selector: 'app-my-tasks',\r\n  templateUrl: './my-tasks.component.html',\r\n  styleUrls: ['./my-tasks.component.scss']\r\n})\r\nexport class MyTasksComponent implements OnInit {\r\n  @ViewChild(DataTableDirective) datatableElement: DataTableDirective;\r\n  currentUser: User;\r\n  tasks: Task[];\r\n  isLoading: {\r\n    page: boolean\r\n  };\r\n  datatableOptions: DataTables.Settings = {\r\n    lengthChange: false,\r\n    columnDefs: [\r\n      {\r\n        searchable: false,\r\n        orderable: false,\r\n        targets: [5]\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(\r\n    private storeService: StoreService,\r\n    private taskService: TaskService,\r\n    private modalService: BsModalService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private location: Location\r\n  ) {\r\n    this.currentUser = storeService.get(['currentUser']);\r\n    this.tasks = [];\r\n    this.isLoading = {\r\n      page: true\r\n    };\r\n  }\r\n\r\n  search(searchStr: string) {\r\n    this.datatableElement.dtInstance.then(\r\n      (dtInstance: DataTables.Api) => dtInstance.search(searchStr).draw()\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.taskService.getMyTask()\r\n      .then(value => {\r\n        this.tasks = value;\r\n        this.isLoading.page = false;\r\n      })\r\n      .catch(reason => {\r\n        this.showErrorModal(reason.Message);\r\n        this.isLoading.page = false;\r\n      })\r\n  }\r\n\r\n  showErrorModal(message: string, isNavigateBack: boolean = false) {\r\n    const initialState = {\r\n      closeCallback: () => {\r\n        if (isNavigateBack) {\r\n          this.location.back();\r\n        }\r\n      },\r\n      message: message\r\n    };\r\n    this.modalService.show(ErrorModalComponent, {initialState, class: 'modal-dialog modal-danger'});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/my-tasks/my-tasks.component.ts","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {ViewComponent as ViewTask} from './view/view.component';\r\nimport {EditComponent as EditTask} from './edit/edit.component';\r\nimport {AddComponent as CreateTask} from './add/add.component';\r\nimport {MyTasksComponent} from './my-tasks/my-tasks.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    data: {\r\n      title: 'Task'\r\n    },\r\n    children: [\r\n      {\r\n        data: {\r\n          title: 'View'\r\n        },\r\n        path: 'view/:id',\r\n        component: ViewTask,\r\n      },\r\n      {\r\n        data: {\r\n          title: 'View'\r\n        },\r\n        path: 'view',\r\n        component: ViewTask,\r\n      },\r\n      {\r\n        data: {\r\n          title: 'Update'\r\n        },\r\n        path: 'edit/:id',\r\n        component: EditTask,\r\n      },\r\n      {\r\n        data: {\r\n          title: 'Create'\r\n        },\r\n        path: 'create',\r\n        component: CreateTask,\r\n      },\r\n      {\r\n        data: {\r\n          title: 'My tasks'\r\n        },\r\n        path: 'mytasks',\r\n        component: MyTasksComponent,\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\n\r\nexport class TaskRoutingModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/task-routing.module.ts","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {TaskRoutingModule} from './task-routing.module'\r\nimport {SpinnerModule} from '../../components/spinner/spinner.module';\r\nimport {ViewComponent} from './view/view.component';\r\nimport {CmaModule} from '../../cmaComponents/cma.module';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { AddComponent } from './add/add.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {LaddaModule} from 'angular2-ladda';\r\nimport {MyDatePickerModule} from 'mydatepicker';\r\nimport { MyTasksComponent } from './my-tasks/my-tasks.component';\r\nimport {DataTablesModule} from 'angular-datatables';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TaskRoutingModule,\r\n    SpinnerModule,\r\n    CmaModule,\r\n    ReactiveFormsModule,\r\n    LaddaModule.forRoot({\r\n      style: 'expand-left'\r\n    }),\r\n    FormsModule,\r\n    MyDatePickerModule,\r\n    DataTablesModule,\r\n  ],\r\n  declarations: [\r\n    ViewComponent,\r\n    EditComponent,\r\n    AddComponent,\r\n    MyTasksComponent\r\n  ]\r\n})\r\nexport class TaskModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/task.module.ts","module.exports = \"<div class=\\\"card\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    Task detail\\r\\n  </div>\\r\\n  <app-spinner *ngIf=isLoading.page></app-spinner>\\r\\n  <div *ngIf=!isLoading.page class=\\\"card-body row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <h2 class=\\\"card-title\\\">{{foundTask.name}}</h2>\\r\\n    </div>\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <div class=\\\"button-row\\\">\\r\\n        <a routerLink=\\\"/task/edit/{{foundTask.id}}\\\" class=\\\"btn btn-secondary bg-light\\\">\\r\\n          <i class=\\\"fa fa-edit\\\"></i>&nbsp; Edit\\r\\n        </a>\\r\\n        <button class=\\\"btn btn-secondary bg-light\\\" (click)=\\\"handleOnCommentBtnClick()\\\">\\r\\n          <i class=\\\"fa fa-comment-o\\\"></i>&nbsp; Comment\\r\\n        </button>\\r\\n        <button [ngClass]=\\\"{'btn': true, 'btn-secondary': true, 'bg-light':!isLoading.openAssignModal}\\\"\\r\\n                (click)=\\\"handleOnAssignBtnClick()\\\"\\r\\n                [ladda]=\\\"isLoading.openAssignModal\\\">\\r\\n          <i class=\\\"fa fa-user-plus\\\"></i>&nbsp; Assign\\r\\n        </button>\\r\\n        <button [ngClass]=\\\"{'btn': true, 'btn-secondary': true, 'bg-light':!isLoading.openUnAssignModal}\\\"\\r\\n                (click)=\\\"handleOnUnAssignBtnClick()\\\"\\r\\n                [ladda]=\\\"isLoading.openUnAssignModal\\\">\\r\\n          <i class=\\\"fa fa-user-times\\\"></i>&nbsp; Un-Assign\\r\\n        </button>\\r\\n        <button [ngClass]=\\\"{'btn': true, 'btn-secondary': true, 'bg-light':!isLoading.done}\\\"\\r\\n                *ngIf=\\\"!managementMode\\\"\\r\\n                [disabled]=\\\"foundTask.statusText == 'Done'\\\"\\r\\n                (click)=\\\"handleOnNeedReviewBtnClick()\\\"\\r\\n                [ladda]=\\\"isLoading.done\\\">\\r\\n          <i class=\\\"fa fa-check\\\"></i>&nbsp; Need review\\r\\n        </button>\\r\\n        <button [ngClass]=\\\"{'btn': true, 'btn-secondary': true, 'bg-light':!isLoading.done}\\\"\\r\\n                *ngIf=\\\"managementMode\\\"\\r\\n                (click)=\\\"handleSetStatusBtnClick()\\\"\\r\\n                [ladda]=\\\"isLoading.done\\\">\\r\\n          Set status\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-12 mt-5\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-6 left-pane\\\">\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--DETAIL SECTION-->\\r\\n            <h5 class=\\\"mb-3\\\">Detail</h5>\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <dt class=\\\"col-3\\\">Project:</dt>\\r\\n              <dd class=\\\"col-9\\\"><a\\r\\n                href=\\\"/project/{{foundTask.project.id}}/task\\\">{{foundTask.project.name}}</a></dd>\\r\\n              <dt class=\\\"col-3\\\">List:</dt>\\r\\n              <dd class=\\\"col-9\\\">{{foundTask.list.name}}</dd>\\r\\n              <dt class=\\\"col-3\\\">Priority:</dt>\\r\\n              <dd class=\\\"col-9\\\">\\r\\n                <span>{{foundTask.priorityText}}</span>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-3\\\">Status:</dt>\\r\\n              <dd class=\\\"col-9\\\">\\r\\n                <!--<span>{{foundTask.statusText}}</span>-->\\r\\n                <app-task-status [taskStatusNumber]=\\\"foundTask.status\\\"></app-task-status>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-3\\\">Effort:</dt>\\r\\n              <dd class=\\\"col-9\\\">\\r\\n                {{foundTask.effort}}\\r\\n                <span *ngIf=\\\"foundTask.effort <= 1\\\">Hour</span>\\r\\n                <span *ngIf=\\\"foundTask.effort > 1\\\">Hours</span>\\r\\n              </dd>\\r\\n            </dl>\\r\\n          </div>\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--DESCRIPTION-->\\r\\n            <h5 class=\\\"mb-3\\\">Description</h5>\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <p class=\\\"col-12\\\">\\r\\n                {{foundTask.description}}\\r\\n              </p>\\r\\n            </dl>\\r\\n          </div>\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--ATTACHMENT-->\\r\\n            <h5 class=\\\"mb-3\\\">Attachments</h5>\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <div class=\\\"col-12\\\">\\r\\n                <div class=\\\"form-group row\\\" [formGroup]=\\\"attachmentForm\\\">\\r\\n                  <div class=\\\"col-9\\\">\\r\\n                    <input #attachmentInput\\r\\n                           id=\\\"file-input\\\" name=\\\"file-input\\\" type=\\\"file\\\"\\r\\n                           formGroupName=\\\"attachment\\\"\\r\\n                           (change)=\\\"attachmentFileChange($event)\\\">\\r\\n                  </div>\\r\\n                  <div class=\\\"col-3\\\">\\r\\n                    <button class=\\\"btn btn-success float-right\\\"\\r\\n                            [disabled]=\\\"!attachmentForm.value.attachment\\\"\\r\\n                            [ladda]=\\\"isLoading.attachmentUpload\\\"\\r\\n                            (click)=\\\"handleUploadAttachmentClick()\\\">\\r\\n                      <i class=\\\"fa fa-plus\\\"></i>\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"col-12\\\">\\r\\n                <ul class=\\\"list-group\\\">\\r\\n                  <li class=\\\"list-group-item\\\" *ngFor=\\\"let attachment of this.foundTask.attachments\\\">\\r\\n                    <div class=\\\"d-flex align-items-center\\\">\\r\\n                      <a href=\\\"{{attachment.source}}\\\">\\r\\n                        <span>{{attachment.name}}</span>\\r\\n                      </a>\\r\\n                      <button class=\\\"btn btn-danger btn-sm ml-auto\\\"\\r\\n                              (click)=\\\"handleDeleteAttachmentClick(attachment.ID)\\\"\\r\\n                              [ladda]=\\\"isLoading.attachmentRemove[attachment.ID]\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\"></i>\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </li>\\r\\n                </ul>\\r\\n              </div>\\r\\n            </dl>\\r\\n          </div>\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--COMMENT-->\\r\\n            <h5 class=\\\"mb-3\\\">Comments</h5>\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <div class=\\\"col-12\\\">\\r\\n                <div class=\\\"form-group row\\\">\\r\\n                  <div class=\\\"col-12\\\">\\r\\n                    <!--COMMENT BTN + LABEL-->\\r\\n                    <button class=\\\"btn btn-secondary bg-light\\\"\\r\\n                            *ngIf=\\\"!openCommentForm\\\"\\r\\n                            (click)=\\\"handleOnCommentBtnClick()\\\">\\r\\n                      <i class=\\\"fa fa-comment-o\\\"></i>&nbsp; Comment\\r\\n                    </button>\\r\\n                  </div>\\r\\n                  <div class=\\\"col-12\\\" *ngIf=\\\"openCommentForm\\\">\\r\\n                    <!--COMMENT TEXT AREA-->\\r\\n                    <textarea title=\\\"comment-input\\\" rows=\\\"9\\\" class=\\\"form-control\\\"\\r\\n                              [(ngModel)]=\\\"commentBoxModel\\\"\\r\\n                              placeholder=\\\"Content...\\\"></textarea>\\r\\n                  </div>\\r\\n                  <div class=\\\"col-12 mt-3 d-flex justify-content-end\\\" *ngIf=\\\"openCommentForm\\\">\\r\\n                    <!--ADD COMMENT, CANCEL BTN-->\\r\\n                    <button class=\\\"btn btn-success mr-2\\\" (click)=\\\"handleAddCommentBtnClick()\\\">Add</button>\\r\\n                    <button class=\\\"btn btn-secondary\\\" (click)=\\\"handleCancelCommentBtnClick()\\\">Cancel</button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <app-comment class=\\\"col-12\\\"\\r\\n                           *ngFor=\\\"let comment of foundTask.comments\\\"\\r\\n                           [comment]=\\\"comment\\\"\\r\\n                           (onEdit)=\\\"handleEditComment($event)\\\"></app-comment>\\r\\n            </dl>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-5 right-pane ml-4\\\">\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--MEMBER-->\\r\\n            <!--<h5 class=\\\"mb-3\\\">Members</h5>-->\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <dt class=\\\"col-12\\\">Assignees:</dt>\\r\\n              <dd class=\\\"col-12 pl-4\\\">\\r\\n                <app-user-list *ngIf=\\\"foundTask.assignees\\\" [users]=\\\"foundTask.assignees\\\"></app-user-list>\\r\\n                <span *ngIf=\\\"!foundTask.assignees || foundTask.assignees.length < 1\\\">N/A</span>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-12\\\">Creator:</dt>\\r\\n              <dd class=\\\"col-12 pl-4\\\">\\r\\n                <app-user-list [user]=\\\"foundTask.createdBy\\\"></app-user-list>\\r\\n                <span *ngIf=\\\"!foundTask.createdBy\\\">N/A</span>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-12\\\">Modifier:</dt>\\r\\n              <dd class=\\\"col-12 pl-4\\\">\\r\\n                <app-user-list *ngIf=\\\"foundTask.changedBy\\\" [user]=\\\"foundTask.changedBy\\\"></app-user-list>\\r\\n                <span *ngIf=\\\"!foundTask.changedBy\\\">N/A</span>\\r\\n              </dd>\\r\\n            </dl>\\r\\n          </div>\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--TASK DEPENDENCY-->\\r\\n            <!--<h5 class=\\\"mb-3\\\">Members</h5>-->\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <dt class=\\\"col-12\\\">Predecessor tasks:</dt>\\r\\n              <dd class=\\\"col-12 pl-4\\\">\\r\\n                <span *ngIf=\\\"foundTask.predecessors.length <= 0\\\">N/A</span>\\r\\n                <app-tasklist *ngIf=\\\"foundTask.predecessors.length > 0\\\"\\r\\n                              [tasks]=\\\"foundTask.predecessors\\\">\\r\\n\\r\\n                </app-tasklist>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-12\\\">Successor tasks:</dt>\\r\\n              <dd class=\\\"col-12 pl-4\\\">\\r\\n                <span *ngIf=\\\"foundTask.successors.length <= 0\\\">N/A</span>\\r\\n                <app-tasklist *ngIf=\\\"foundTask.successors.length > 0\\\"\\r\\n                              [tasks]=\\\"foundTask.successors\\\">\\r\\n\\r\\n                </app-tasklist>\\r\\n              </dd>\\r\\n            </dl>\\r\\n          </div>\\r\\n          <div class=\\\"section\\\">\\r\\n            <!--DATE SECTION-->\\r\\n            <!--<h5 class=\\\"mb-3\\\">Date</h5>-->\\r\\n            <dl class=\\\"row ml-1\\\">\\r\\n              <dt class=\\\"col-4\\\">Start date:</dt>\\r\\n              <dd class=\\\"col-8\\\">\\r\\n                <span *ngIf=\\\"foundTask.startDate\\\">\\r\\n                  {{foundTask.startDate | date:'dd/MM/yyyy'}}\\r\\n                </span>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-4\\\">Duration:</dt>\\r\\n              <dd class=\\\"col-8\\\">\\r\\n                {{foundTask.duration}}\\r\\n                <span *ngIf=\\\"foundTask.duration <= 1\\\">Day</span>\\r\\n                <span *ngIf=\\\"foundTask.duration > 1\\\">Days</span>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-4\\\">Deadline date:</dt>\\r\\n              <dd class=\\\"col-8\\\">\\r\\n                {{foundTask.deadline | date:'dd/MM/yyyy'}}\\r\\n              </dd>\\r\\n              <dt class=\\\"col-4\\\">Finished date:</dt>\\r\\n              <dd class=\\\"col-8\\\">\\r\\n              <span *ngIf=\\\"!foundTask.finishedDate\\\">\\r\\n                N/A\\r\\n              </span>\\r\\n                <span *ngIf=\\\"foundTask.finishedDate\\\">\\r\\n                {{foundTask.finishedDate | date:'dd/MM/yyyy'}}\\r\\n              </span>\\r\\n              </dd>\\r\\n              <dt class=\\\"col-4\\\">Created date:</dt>\\r\\n              <dd class=\\\"col-8\\\">{{foundTask.createdDate | date:'dd/MM/yyyy'}}</dd>\\r\\n              <dt class=\\\"col-4\\\">Changed date:</dt>\\r\\n              <dd class=\\\"col-8\\\">\\r\\n                <span *ngIf=\\\"foundTask.changedDate\\\">\\r\\n                  {{foundTask.changedDate | date:'dd/MM/yyyy'}}\\r\\n                </span>\\r\\n                <span *ngIf=\\\"!foundTask.changedDate\\\">\\r\\n                  N/A\\r\\n                </span>\\r\\n              </dd>\\r\\n            </dl>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/view/view.component.html\n// module id = ../../../../../src/app/views/task/view/view.component.html\n// module chunks = task.module","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".section dt {\\n  font-weight: 600; }\\n\\n.section .icons-list img.avatar {\\n  width: 35px;\\n  height: 35px; }\\n\\n.separator-v {\\n  border: 0;\\n  width: 1px;\\n  height: 100%;\\n  background-image: -webkit-gradient(linear, left top, right top, from(transparent), color-stop(rgba(0, 0, 0, 0.75)), to(transparent));\\n  background-image: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.75), transparent); }\\n\\n.hidden-field {\\n  position: absolute;\\n  top: -5000px;\\n  left: -5000px; }\\n\\n.list-group-item:hover {\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/view/view.component.scss\n// module id = ../../../../../src/app/views/task/view/view.component.scss\n// module chunks = task.module","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\r\nimport {Task} from '../../../interfaces/task'\r\nimport {TaskService} from '../../../services/task.service';\r\nimport {Location} from '@angular/common';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {BsModalService} from 'ngx-bootstrap';\r\nimport {CommentModalComponent, ConfirmModalComponent, ErrorModalComponent, SelectUsersModalComponent} from '../../../cmaComponents/modals';\r\nimport {FormControl, FormGroup} from '@angular/forms';\r\nimport {UploadService} from '../../../services/upload.service';\r\nimport {Attachment} from '../../../interfaces/attachment';\r\nimport * as _ from 'lodash' ;\r\nimport {UserService} from '../../../services/user.service';\r\nimport {User} from '../../../interfaces/user';\r\nimport {CommentService} from '../../../services/comment.service';\r\nimport {Comment} from '../../../interfaces/comment';\r\nimport {forEach} from '@angular/router/src/utils/collection';\r\nimport {StoreService} from '../../../services/tree.service';\r\nimport {SelectStatusModalComponent} from '../../../cmaComponents/modals/select-status-modal/select-status-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-view',\r\n  templateUrl: './view.component.html',\r\n  styleUrls: ['./view.component.scss']\r\n})\r\nexport class ViewComponent implements OnInit {\r\n  @ViewChild('attachmentInput') attachmentInput: ElementRef;\r\n  foundTask: Task;\r\n  managementMode: boolean;\r\n  isLoading: {\r\n    page: boolean\r\n    attachmentUpload: boolean\r\n    attachmentRemove: boolean[]\r\n    openAssignModal: boolean\r\n    openUnAssignModal: boolean\r\n    done: boolean,\r\n    comment: boolean,\r\n    editComment: boolean,\r\n    setStatus: boolean\r\n  };\r\n  statuses: any[];\r\n  priorities: any[];\r\n  attachmentForm: FormGroup;\r\n  commentBoxModel: string;\r\n  errors: {\r\n    attachment: string\r\n  };\r\n  openCommentForm: boolean;\r\n\r\n  constructor(private taskService: TaskService,\r\n              private uploadService: UploadService,\r\n              private userService: UserService,\r\n              private commentService: CommentService,\r\n              private storeService: StoreService,\r\n              private router: Router,\r\n              private route: ActivatedRoute,\r\n              private location: Location,\r\n              private modalService: BsModalService) {\r\n    let currentUser = this.storeService.get(['currentUser']) as User;\r\n    this.managementMode = currentUser.isManager || currentUser.isAdmin;\r\n    this.isLoading = {\r\n      page: true,\r\n      attachmentUpload: false,\r\n      attachmentRemove: [],\r\n      openAssignModal: false,\r\n      openUnAssignModal: false,\r\n      done: false,\r\n      comment: false,\r\n      editComment: true,\r\n      setStatus: false\r\n    };\r\n    this.openCommentForm = false;\r\n    this.resetErrors();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.params.subscribe(params => {\r\n      this.loadTask(params['id']);\r\n    });\r\n\r\n    this.attachmentForm = new FormGroup({\r\n      attachment: new FormControl(undefined),\r\n    });\r\n  }\r\n\r\n  loadTask(taskId) {\r\n    if (!taskId) {\r\n      this.showErrorModal(`${taskId} is not a valid ID`);\r\n      return;\r\n    }\r\n\r\n    if (Number(taskId)) {\r\n      this.taskService.getTaskDetail(taskId)\r\n        .then(value => {\r\n          this.foundTask = value as Task;\r\n          this.isLoading.page = false;\r\n        })\r\n        .catch(reason => {\r\n          console.debug('ViewComponent-onInit', reason);\r\n          this.showErrorModal(reason.Message);\r\n        })\r\n    } else {\r\n      this.showErrorModal(`${taskId} is not a valid ID`);\r\n    }\r\n  }\r\n\r\n  handleOnCommentBtnClick() {\r\n    this.openCommentForm = !this.openCommentForm;\r\n  }\r\n\r\n  handleAddCommentBtnClick() {\r\n    this.isLoading.comment = true;\r\n    let content = this.commentBoxModel;\r\n    this.commentService.createComment(content, this.foundTask.id)\r\n      .then(value => {\r\n          let comment = value as Comment;\r\n          this.foundTask.comments.push(comment);\r\n          this.isLoading.comment = true;\r\n        }\r\n      )\r\n      .catch(reason => {\r\n        this.showErrorModal('Comment fail');\r\n        console.debug('handleAddCommentBtnClick', reason);\r\n        this.isLoading.comment = true;\r\n      })\r\n  }\r\n\r\n  handleCancelCommentBtnClick() {\r\n    this.openCommentForm = false;\r\n    this.commentBoxModel = '';\r\n  }\r\n\r\n  handleOnAssignBtnClick() {\r\n    const onConfirm = (selectedUsers: User[]) => {\r\n      let selectedIds = _.map(selectedUsers, 'id');\r\n      this.taskService.assignTask(this.foundTask.id, selectedIds)\r\n        .then(value => {\r\n          this.foundTask.assignees = _.concat(this.foundTask.assignees, selectedUsers);\r\n          this.isLoading.openAssignModal = false\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal('Assign fail');\r\n          this.isLoading.openAssignModal = false\r\n        })\r\n    };\r\n    this.isLoading.openAssignModal = true;\r\n    this.userService.getUserOfProject(this.foundTask.project.id)\r\n      .then(value => {\r\n        const pool = [];\r\n        for (let user of value as User[]) {\r\n          let removeFlag = false;\r\n          for (let assignee of this.foundTask.assignees) {\r\n            if (assignee.id == user.id) {\r\n              removeFlag = true;\r\n            }\r\n          }\r\n          if (!removeFlag) {\r\n            pool.push(user);\r\n          }\r\n        }\r\n\r\n        const initialState = {\r\n          confirmCallback: onConfirm,\r\n          cancelCallback: () => {\r\n            this.isLoading.openAssignModal = false;\r\n          },\r\n          closeCallback: () => {\r\n            this.isLoading.openAssignModal = false;\r\n          },\r\n          userPool: pool,\r\n          title: `Assign`,\r\n          confirmButtonText: 'Assign'\r\n        };\r\n        this.modalService.show(SelectUsersModalComponent, {initialState, class: 'modal-dialog'});\r\n      })\r\n      .catch(reason => {\r\n        this.showErrorModal('An error has occurred while trying to open assign pop-up ');\r\n        this.isLoading.openAssignModal = false\r\n      });\r\n  }\r\n\r\n  handleOnUnAssignBtnClick() {\r\n    this.isLoading.openUnAssignModal = true;\r\n    const onConfirm = (selectedUsers: User[]) => {\r\n      let selectedIds = _.map(selectedUsers, 'id');\r\n      this.taskService.unassignTask(this.foundTask.id, selectedIds)\r\n        .then(value => {\r\n          this.foundTask.assignees = _.filter(this.foundTask.assignees, (user: User) => {\r\n            return !selectedIds.includes(user.id)\r\n          });\r\n          this.isLoading.openUnAssignModal = false;\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal('Un-Assign fail');\r\n          this.isLoading.openUnAssignModal = false;\r\n        })\r\n    };\r\n    const initialState = {\r\n      confirmCallback: onConfirm,\r\n      cancelCallback: () => {\r\n        this.isLoading.openUnAssignModal = false;\r\n      },\r\n      closeCallback: () => {\r\n        this.isLoading.openUnAssignModal = false;\r\n      },\r\n      userPool: this.foundTask.assignees,\r\n      title: `Un-assign`,\r\n      confirmButtonText: 'Un-assign'\r\n    };\r\n    this.modalService.show(SelectUsersModalComponent, {initialState, class: 'modal-dialog'});\r\n  }\r\n\r\n  handleOnNeedReviewBtnClick() {\r\n    const onConfirm = () => {\r\n      this.isLoading.done = true;\r\n      this.taskService.finishTask(this.foundTask.id)\r\n        .then(value => {\r\n          this.foundTask = value;\r\n          this.isLoading.done = false;\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal('Finish task fail');\r\n          this.isLoading.done = false;\r\n        })\r\n    };\r\n\r\n    const initialState = {\r\n      message: `Are you sure you want to finish this task!`,\r\n      confirmCallback: onConfirm\r\n    };\r\n    this.modalService.show(ConfirmModalComponent, {initialState, class: 'modal-dialog'});\r\n  }\r\n\r\n  handleUploadAttachmentClick() {\r\n    const formValue = this.attachmentForm.value;\r\n    if (formValue.attachment) {\r\n      this.resetErrors();\r\n      this.isLoading.attachmentUpload = true;\r\n      this.uploadService.uploadAttachment(formValue.attachment, this.foundTask.id)\r\n        .then(value => {\r\n          let attachment = value as Attachment;\r\n          this.foundTask.attachments.push(attachment);\r\n          this.isLoading.attachmentUpload = false;\r\n        })\r\n        .catch(reason => {\r\n          this.errors.attachment = reason.Data;\r\n          this.isLoading.attachmentUpload = false;\r\n        })\r\n    } else {\r\n      this.resetErrors();\r\n      // show some form of success message here\r\n    }\r\n  }\r\n\r\n  handleDeleteAttachmentClick(attachmentId) {\r\n    const onConfirm = () => {\r\n      this.isLoading.attachmentRemove[attachmentId] = true;\r\n      this.uploadService.deleteAttachment(attachmentId)\r\n        .then(value => {\r\n          let removedItemId = value.id as number;\r\n          this.foundTask.attachments = _.filter(this.foundTask.attachments, item => {\r\n            return item.ID !== removedItemId;\r\n          });\r\n          this.isLoading.attachmentRemove[attachmentId] = false;\r\n        })\r\n        .catch(reason => {\r\n          this.isLoading.attachmentRemove[attachmentId] = false;\r\n          this.showErrorModal(reason.Message);\r\n        })\r\n    };\r\n    const initialState = {\r\n      message: `Are you sure you want to delete attachment ?`,\r\n      confirmCallback: onConfirm\r\n    };\r\n    this.modalService.show(ConfirmModalComponent, {initialState, class: 'modal-dialog'});\r\n  }\r\n\r\n  handleEditComment(comment) {\r\n    const confirmCallback = (newComment: Comment) => {\r\n      this.commentService.updateComment(newComment.ID, newComment.body)\r\n        .then((returnedComment: Comment) => {\r\n          for (let i = 0; i < this.foundTask.comments.length; i++) {\r\n            if (this.foundTask.comments[i].ID == returnedComment.ID) {\r\n              this.foundTask.comments[i] = returnedComment;\r\n              break;\r\n            }\r\n          }\r\n        })\r\n        .catch(reason => {\r\n          this.showErrorModal(reason.Data);\r\n        })\r\n    };\r\n    const initialState = {\r\n      comment: comment,\r\n      confirmCallback: confirmCallback,\r\n    };\r\n    this.modalService.show(CommentModalComponent, {initialState, class: 'modal-dialog'});\r\n  }\r\n\r\n  handleSetStatusBtnClick() {\r\n    this.isLoading.setStatus = true;\r\n    const initialState = {\r\n      task: this.foundTask,\r\n      confirmCallback: (newTask) => {\r\n        this.foundTask = newTask;\r\n        this.isLoading.setStatus = false;\r\n      },\r\n      cancelCallback: () => {\r\n        this.isLoading.setStatus = false;\r\n      },\r\n      closeCallback: () => {\r\n        this.isLoading.setStatus = false;\r\n      }\r\n    };\r\n    this.modalService.show(SelectStatusModalComponent, {initialState, class: 'modal-dialog'});\r\n  }\r\n\r\n  attachmentFileChange(fileInput: any) {\r\n    let file = fileInput.target.files[0];\r\n    this.attachmentForm.controls['attachment'].setValue(file);\r\n  }\r\n\r\n  resetErrors() {\r\n    this.errors = {\r\n      attachment: ''\r\n    }\r\n  }\r\n\r\n  private showErrorModal(message: string, isNavigateBack: boolean = false) {\r\n    const initialState = {\r\n      closeCallback: () => {\r\n        if (isNavigateBack) {\r\n          this.location.back();\r\n        }\r\n      },\r\n      message: message\r\n    };\r\n    this.modalService.show(ErrorModalComponent, {initialState, class: 'modal-dialog modal-danger'});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Project/AgencyProjectManagement/Web/Angular/src/app/views/task/view/view.component.ts"],"sourceRoot":"webpack:///"}