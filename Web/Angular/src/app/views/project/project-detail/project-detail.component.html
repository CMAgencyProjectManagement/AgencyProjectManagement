<div class="card">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <strong>Project Detail</strong>
        </div>
        <app-spinner *ngIf="isPageLoading"></app-spinner>
        <div *ngIf="!isPageLoading" class="card-body">
          <div class="card-body" [formGroup]="viewForm" *ngIf="foundProject">
            <div class="row">
              <div class="col-7">
                <div class="form-horizontal">
                  <div style="font-size: 20px">
                    <h2 class="card-title">{{foundProject.name}}</h2>
                  </div>
                  <div class="button-row" style="margin-bottom: 5px;margin-top: 4px;">
                    <a routerLink="/project/update/{{foundProject.id}}" class="btn btn-secondary bg-light">
                      <i class="fa fa-edit"></i>&nbsp; Update
                    </a>
                    <a class="btn btn-secondary bg-light" (click)="dangerModal.show()">
                      <i class="fa fa-close"></i>&nbsp; Close project
                    </a>
                  </div>
                  <div class="section mt-4">
                    <!--DESCRIPTION-->
                    <h5 class="mb-3">Description</h5>
                    <dl class="row ml-1">
                      <p class="col-12">
                        {{foundProject.description}}
                      </p>
                    </dl>
                  </div>
                  <div class="section">
                    <!--Created Date-->
                    <h5 class="mb-3">Created Date: {{foundProject.createdTime | date:'d/M/y'}}</h5>
                  </div>
                  <div class="section">
                    <!--Start Date-->
                    <h5 class="mb-3">Start Date: {{foundProject.startDate | date:'d/M/y'}}</h5>
                  </div>
                  <div class="section">
                    <!--Deadline-->
                    <h5 class="mb-3">Deadline: {{foundProject.deadline | date:'d/M/y'}}</h5>
                  </div>
                  <!--<div class="form-group row" >-->
                  <!--Changed By: <input *ngIf="foundProject.changedBy" value="{{foundProject.changedBy.fullname}}"/>-->
                  <!--</div>-->
                  <!--<div class="form-group row">-->
                  <!--Changed Time: <input *ngIf="foundProject.changedTime" value="{{foundProject.changedTime | date:'d/M/y'}}"/>-->
                  <!--</div>-->
                </div>
              </div>
              <div class="col-5">
                <div class="section" style="font-size: 16px">
                  <!-- <dt class="col-12">Assignees:</dt>
                    <dd class="col-12 pl-4">
                      <app-user-list *ngIf="foundTask.assignees" [users]="foundTask.assignees"></app-user-list>
                      <span *ngIf="!foundTask.assignees || foundTask.assignees.length < 1">N/A</span>
                    </dd> -->
                  <dt class="col-12">Creator:</dt>
                  <dd class="col-12 pl-4">
                    <app-user-list [user]="foundProject.createdBy"></app-user-list>
                    <span *ngIf="!foundProject.createdBy">N/A</span>
                  </dd>
                  <br/>
                  <dt class="col-12">Assignees:</dt>
                  <dd class="col-12 pl-4">
                    <app-user-list *ngIf="foundProject.assignees" [users]="foundProject.assignees"></app-user-list>
                    <span *ngIf="!foundProject.assignees || foundProject.assignees.length < 1">N/A</span>
                  </dd>
                  <br/>
                  <!-- <dt class="col-12">Modifier:</dt>
                    <dd class="col-12 pl-4">
                      <app-user-list *ngIf="foundTask.changedBy" [user]="foundTask.changedBy"></app-user-list>
                      <span *ngIf="!foundTask.changedBy">N/A</span>
                    </dd> -->
                  <dt class="col-12">
                  </dt>
                  <dd class="col-12 pl-4">
                    <a href="#/project/task?projectID={{foundProject.id}}" style="text-decoration-color: blue">
                      View all tasks...
                    </a>
                  </dd>
                </div>
              </div>
            </div>
            <!--<button type="button" class="btn btn-primary btn-lg" style="margin-left: 600px;color: black;-->
            <!--background-color: white;-->
            <!--border-color: black;">Update</button>-->
            <!--<button type="button" class="btn btn-danger btn-lg" data-toggle="modal" (click)="dangerModal.show()" style="margin-left: 50px;color: black;-->
            <!--background-color: white;-->
            <!--border-color: black;">Close</button>-->
            <div bsModal #dangerModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-danger" role="document">
                <div class="modal-content" style="border-color: black;">
                  <div class="modal-header" style="color: black;
                      background-color: white;">
                    <h4 class="modal-title">Confirmation message!</h4>
                    <button type="button" class="close" (click)="dangerModal.hide()" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <p>Are you sure to close this project?</p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="dangerModal.hide()" style="color: black;
                          background-color: white;
                          border-color: black;">No
                    </button>
                    <button type="button" class="btn btn-danger" (click)="handleClose(foundProject.id)" style="color: black;
                          background-color: white;
                          border-color: black;">Yes
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>